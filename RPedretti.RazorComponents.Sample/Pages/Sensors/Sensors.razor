@page "/sensors"
@using System.Text.Json;
@using RPedretti.RazorComponents.Input.Spinner
@inherits SensorsBase

<div class="sensors">
    <div class="sensors-ambientlight">
        <h1>Ambient light</h1>
        <p>Ambient light is @(LightError ?? Light.ToString())</p>
    </div>
    <div class="sensors-geolocation">
        <h1>Position</h1>
        @*<div class="sensors-geolocation-controls">
            <button type="button" class="btn" @onclick="@StartWatch" disabled="@Watching">Start Watch</button>
            <button type="button" class="btn" @onclick="@StopWatch" disabled="@((!Watching))">Stop Watch</button>
        </div>*@
        @if (Watching & Position == null)
        {
            <Spinner Centered Active />
        }
        else if (Position != null)
        {
            <pre>@(JsonSerializer.Serialize(Position, new JsonSerializerOptions { WriteIndented = true }))</pre>
        }
        else
        {
            <p>No readings</p>
        }
    </div>
</div>